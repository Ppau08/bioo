<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Malla Bioquímica Interactiva</title>
  <style>
    body {
  font-family: serif;
  background: url('LLL.png') no-repeat center center fixed;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: fixed;
  color: #1c0312;
  margin: 0;
  padding: 40px;
}

    h1 {
      text-align: center;
      margin-bottom: 40px;
    }

    .container {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 40px;
  max-width: 100%;
  margin: auto;
}

    .year-column {
      background-color: #E5C7D6;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      width: 220px;
      margin: 0 10px;
      flex-shrink: 0;
    }

    .year-column h2 {
      text-align: center;
      color: #fff;
      background-color: #821D59;
      margin: 0;
      padding: 10px;
      border-top-left-radius: 10px;
      border-top-right-radius: 10px;
      font-size: 18px;
    }

    .cuatrimestre {
      border-top: 3px solid #F7EEED;
      padding: 10px;
    }

    .cuatrimestre h3 {
  text-align: center;
  margin: 10px 0;
  font-size: 20px;
}

    .materia {
      background-color: #FFFFFF;
      border: 2px solid #fff;
      border-radius: 8px;
      margin: 8px 0;
      padding: 10px;
      text-align: center;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .espera {
      background-color: #F4DCEA;
      cursor: default;
      pointer-events: none;
    }

    .materia.estado-1 {
      background-color: #E2EAC2;
    }

    .materia.estado-2 {
      background-color: #A7AF80;
      text-decoration: line-through;
      color: #1c0312;
    }
  </style>
</head>
<body>
  <h1>Malla Curricular - Bioquímica</h1>
  <div class="container" id="malla">
    <!-- Columnas por año con cuatrimestres -->
    <div class="year-column" data-anio="1">
      <h2>1º Año</h2>
      <div class="cuatrimestre" data-cuatrimestre="1"></div>
      <div class="cuatrimestre" data-cuatrimestre="2"></div>
    </div>
    <div class="year-column" data-anio="2">
      <h2>2º Año</h2>
      <div class="cuatrimestre" data-cuatrimestre="1"></div>
      <div class="cuatrimestre" data-cuatrimestre="2"></div>
    </div>
    <div class="year-column" data-anio="3">
      <h2>3º Año</h2>
      <div class="cuatrimestre" data-cuatrimestre="1"></div>
      <div class="cuatrimestre" data-cuatrimestre="2"></div>
    </div>
    <div class="year-column" data-anio="4">
      <h2>4º Año</h2>
      <div class="cuatrimestre" data-cuatrimestre="1"></div>
      <div class="cuatrimestre" data-cuatrimestre="2"></div>
    </div>
    <div class="year-column" data-anio="5">
      <h2>5º Año</h2>
      <div class="cuatrimestre" data-cuatrimestre="1"></div>
      <div class="cuatrimestre" data-cuatrimestre="2"></div>
    </div>
    <div class="year-column" data-anio="6">
      <h2>6º Año</h2>
      <div class="cuatrimestre" data-cuatrimestre="1"></div>
      <div class="cuatrimestre" data-cuatrimestre="2"></div>
    </div>    
  </div>

  <script>
   const materias = [
  {
    anio: 1,
    cuatrimestres: [
      {
        color: 'verde',
        materias: [
          { nombre: 'Álgebra y Geometría Analítica', id: 'algebra', correlativas: [] },
          { nombre: 'Química General', id: 'quim_gen', correlativas: [] },
        ]
      },
      {
        color: 'rojo',
        materias: [
          { nombre: 'Cálculo Diferencial e Integral', id: 'calculo', correlativas: ['algebra'] },
          { nombre: 'Química Inorgánica', id: 'quim_inorg', correlativas: ['quim_gen'] },
          { nombre: 'Biología General y Celular', id: 'biologia', correlativas: ['quim_gen'] },
        ]
      }
    ]
  },
  {
    anio: 2,
    cuatrimestres: [
      {
        color: 'verde',
        materias: [
          { nombre: 'Mecánica, Calor y Termodinámica', id: 'mecanica', correlativas: ['quim_inorg', 'calculo'] },
          { nombre: 'Química Orgánica I', id: 'organica1', correlativas: ['quim_inorg'] },
          { nombre: 'Morfología', id: 'morfologia', correlativas: ['biologia'] }
        ]
      },
      {
        color: 'rojo',
        materias: [
          { nombre: 'Electricidad, Magnetismo, Óptica y Sonido', id: 'electricidad', correlativas: ['mecanica'] },
          { nombre: 'Química Orgánica II', id: 'organica2', correlativas: ['organica1'] },
          { nombre: 'Química Analítica', id: 'analitica', correlativas: ['calculo'] },
          { nombre: 'Prueba de Traducción', id: 'traduccion', correlativas: [] }
        ]
      }
    ]
  },
  {
    anio: 3,
    cuatrimestres: [
      {
        color: 'verde',
        materias: [
          { nombre: 'Química Biológica I', id: 'biologica1', correlativas: ['mecanica', 'analitica', 'organica2'] },
          { nombre: 'Química Física Biológica', id: 'fisica_bio', correlativas: ['analitica', 'organica2'] },
          { nombre: 'Bioestadística', id: 'bioestadistica', correlativas: ['analitica'] }
        ]
      },
      {
        color: 'rojo',
        materias: [
          { nombre: 'Química Biológica II', id: 'biologica2', correlativas: ['biologica1', 'fisica_bio', 'organica2'] },
          { nombre: 'Genética y Biología Molecular', id: 'genetica', correlativas: ['biologica1', 'organica2'] },
          { nombre: 'Química Analítica Instrumental', id: 'instrumental', correlativas: ['bioestadistica', 'fisica_bio', 'organica2'] },
          { nombre: 'Prueba de Manejo de Software', id: 'software', correlativas: [] }
        ]
      }
    ]
  },
  {
    anio: 4,
    cuatrimestres: [
      {
        color: 'verde',
        materias: [
          { nombre: 'Virología Clínica', id: 'virologia', correlativas: ['genetica', 'biologica2', 'bioestadistica'] },
          { nombre: 'Microbiología General', id: 'microbiologia', correlativas: ['genetica', 'biologica1', 'biologica2'] },
          { nombre: 'Fisiología Humana', id: 'fisiologia', correlativas: ['biologica2', 'morfologia'] },
          { nombre: 'Farmacología', id: 'farmacologia', correlativas: ['biologica2', 'organica2'] }
        ]
      },
      {
        color: 'rojo',
        materias: [
          { nombre: 'Bromatología y Nutrición', id: 'bromatologia', correlativas: ['microbiologia', 'instrumental'] },
          { nombre: 'Fisiopatología', id: 'fisiopatologia', correlativas: ['fisiologia', 'microbiologia', 'fisica_bio', 'biologica2'] },
          { nombre: 'Inmunología Clínica', id: 'inmunologia', correlativas: ['microbiologia', 'fisiologia', 'bioestadistica', 'genetica'] },
          { nombre: 'Parasitología Humana', id: 'parasitologia', correlativas: ['microbiologia', 'fisiologia', 'bioestadistica', 'genetica'] }
        ]
      }
    ]
  },
  {
    anio: 5,
    cuatrimestres: [
      {
        color: 'verde',
        materias: [
          { nombre: 'Bacteriología y Micología Clínica', id: 'bacteriologia', correlativas: ['fisiopatologia', 'inmunologia'] },
          { nombre: 'Química Clínica', id: 'quimica_clinica', correlativas: ['fisiopatologia'] },
          { nombre: 'Toxicología y Química Legal', id: 'toxicologia', correlativas: ['fisiopatologia'] },
          { nombre: 'Ética Profesional', id: 'etica', correlativas: [] }
        ]
      },
      {
        color: 'rojo',
        materias: [
          { nombre: 'Hematología Clínica', id: 'hematologia', correlativas: ['bioestadistica', 'fisiopatologia', 'inmunologia'] },
          { nombre: 'Endocrinología y Monitoreo de Drogas', id: 'endocrinologia', correlativas: ['fisiopatologia', 'inmunologia'] },
          { nombre: 'Optativa I', id: 'optativa1', correlativas: [] },
          { nombre: 'Gestión de Laboratorio', id: 'gestion', correlativas: ['quimica_clinica'] },
          { nombre: 'Epistemología e Investigación', id: 'epistemologia', correlativas: ['toxicologia', 'bromatologia'] }
        ]
      }
    ]
  },
  {
    anio: 6,
    cuatrimestres: [
      {
        color: 'verde',
        materias: [
          { nombre: 'Práctica Hospitalaria', id: 'hospitalaria', correlativas: ['hematologia', 'bacteriologia', 'endocrinologia', 'gestion', 'virologia', 'inmunologia', 'parasitologia', 'quimica_clinica'] }
        ]
      },
      {
        color: 'rojo',
        materias: [
          { nombre: 'Práctica Optativa', id: 'optativa2', correlativas: ['hospitalaria'] }
        ]
      }
    ]
  }
];

    const container = document.getElementById("malla");

    materias.forEach(m => {
      const div = document.createElement("div");
      div.classList.add("materia");
      div.id = m.id;
      div.textContent = m.nombre;

      const target = document.querySelector(
        `.year-column[data-anio='${m.anio}'] .cuatrimestre[data-cuatrimestre='${m.cuatri}']`
      );
      if (target) target.appendChild(div);
    });

    function actualizarHabilitaciones() {
      materias.forEach(m => {
        const div = document.getElementById(m.id);
        if (div.classList.contains("estado-2")) return;

        const requisitos = m.regulariza.concat(m.aprueba);
        const todosCumplidos = requisitos.every(reqId => {
          const req = document.getElementById(reqId);
          return (
            m.aprueba.includes(reqId)
              ? req.classList.contains("estado-2")
              : req.classList.contains("estado-1") || req.classList.contains("estado-2")
          );
        });

        if (requisitos.length === 0 || todosCumplidos) {
          div.classList.remove("espera");
        } else {
          div.classList.add("espera");
        }
      });
    }

    document.querySelectorAll(".materia").forEach(m => {
      m.addEventListener("click", () => {
        if (m.classList.contains("espera")) return;

        if (m.classList.contains("estado-2")) {
          m.classList.remove("estado-2");
        } else if (m.classList.contains("estado-1")) {
          m.classList.remove("estado-1");
          m.classList.add("estado-2");
        } else {
          m.classList.add("estado-1");
        }
        actualizarHabilitaciones();
      });
    });

    actualizarHabilitaciones();
  </script>
</body>
</html>
